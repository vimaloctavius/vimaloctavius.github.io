---
title: ML in Lean Six Sigma - Partner Revenue Velocity
layout: post
post-image: https://i.ibb.co/1svbgrD/bamboozle.jpg
description: Applying Lean Six Sigma methodology to optimize partner revenue velocity and reduce process waste.
tags:
- lean six sigma
- process improvement
- partner revenue
- data analysis
---

<div class="lss-analysis">
  <h1>Lean Six Sigma: Partner Revenue Velocity Analysis</h1>
  
  <div class="dmaic-container">
    <div class="dmaic-phase define">
      <h3>DEFINE</h3>
      <p>Problem: Partner revenue velocity inconsistency</p>
      <div class="metric">Target: 25% velocity improvement</div>
    </div>
    
    <div class="dmaic-phase measure">
      <h3>MEASURE</h3>
      <p>Current State Metrics:</p>
      <ul>
        <li>Avg Revenue: $1.3M</li>
        <li>Velocity: 0.25 (25%)</li>
        <li>Cycle Time: 15.16 days</li>
      </ul>
    </div>
    
    <div class="dmaic-phase analyze">
      <h3>ANALYZE</h3>
      <p>Root Causes:</p>
      <ul>
        <li>Work order delays (1-26 days)</li>
        <li>Approval bottlenecks (4-23 days)</li>
        <li>Variable opportunity count (8-51)</li>
      </ul>
    </div>
    
    <div class="dmaic-phase improve">
      <h3>IMPROVE</h3>
      <p>Solutions:</p>
      <ul>
        <li>Standardize approval process</li>
        <li>Reduce cycle time variation</li>
        <li>Optimize resource allocation</li>
      </ul>
    </div>
    
    <div class="dmaic-phase control">
      <h3>CONTROL</h3>
      <p>Control Plan:</p>
      <ul>
        <li>Monthly velocity tracking</li>
        <li>SPC charts for monitoring</li>
        <li>Process audits</li>
      </ul>
    </div>
  </div>

  <div class="metrics-dashboard">
    <h2>Key Performance Indicators</h2>
    <div class="kpi-grid">
      <div class="kpi-card">
        <div class="kpi-value">$1.3M</div>
        <div class="kpi-label">Avg Revenue</div>
        <div class="kpi-trend up">↗ 15%</div>
      </div>
      <div class="kpi-card">
        <div class="kpi-value">25%</div>
        <div class="kpi-label">Pipeline Velocity</div>
        <div class="kpi-trend stable">→ 0%</div>
      </div>
      <div class="kpi-card">
        <div class="kpi-value">15.16</div>
        <div class="kpi-label">Avg Cycle Days</div>
        <div class="kpi-trend down">↘ 8%</div>
      </div>
      <div class="kpi-card">
        <div class="kpi-value">25</div>
        <div class="kpi-label">Opportunities</div>
        <div class="kpi-trend up">↗ 12%</div>
      </div>
    </div>
  </div>

  <div class="process-flow">
    <h2>Current State Process Map</h2>
    <div class="flow-steps">
      <div class="step">Lead Generation</div>
      <div class="arrow">→</div>
      <div class="step">Opportunity Creation</div>
      <div class="arrow">→</div>
      <div class="step">Work Order</div>
      <div class="arrow">→</div>
      <div class="step">Approval</div>
      <div class="arrow">→</div>
      <div class="step">Revenue</div>
    </div>
    <div class="waste-indicators">
      <span class="waste">Waiting</span>
      <span class="waste">Rework</span>
      <span class="waste">Overprocessing</span>
    </div>
  </div>
</div>

<style>
.lss-analysis {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}

.dmaic-container {
  display: grid;
  grid-template-columns: repeat(5, 1fr);
  gap: 20px;
  margin: 30px 0;
}

.dmaic-phase {
  background: linear-gradient(135deg, #f8f9fa, #e9ecef);
  border-left: 4px solid #007bff;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.dmaic-phase h3 {
  color: #007bff;
  margin: 0 0 10px 0;
  font-weight: bold;
}

.dmaic-phase.define { border-left-color: #dc3545; }
.dmaic-phase.measure { border-left-color: #fd7e14; }
.dmaic-phase.analyze { border-left-color: #ffc107; }
.dmaic-phase.improve { border-left-color: #28a745; }
.dmaic-phase.control { border-left-color: #6f42c1; }

.metric {
  background: #007bff;
  color: white;
  padding: 8px 12px;
  border-radius: 4px;
  font-weight: bold;
  margin-top: 10px;
}

.metrics-dashboard {
  margin: 40px 0;
}

.kpi-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 20px;
  margin-top: 20px;
}

.kpi-card {
  background: white;
  border: 1px solid #dee2e6;
  border-radius: 8px;
  padding: 20px;
  text-align: center;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.kpi-value {
  font-size: 2.5em;
  font-weight: bold;
  color: #495057;
}

.kpi-label {
  color: #6c757d;
  margin: 10px 0;
}

.kpi-trend {
  font-weight: bold;
  padding: 4px 8px;
  border-radius: 4px;
}

.kpi-trend.up { background: #d4edda; color: #155724; }
.kpi-trend.down { background: #f8d7da; color: #721c24; }
.kpi-trend.stable { background: #fff3cd; color: #856404; }

.process-flow {
  margin: 40px 0;
}

.flow-steps {
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 20px 0;
  flex-wrap: wrap;
}

.step {
  background: #007bff;
  color: white;
  padding: 15px 20px;
  border-radius: 8px;
  font-weight: bold;
  margin: 5px;
}

.arrow {
  font-size: 1.5em;
  color: #007bff;
  margin: 0 10px;
}

.waste-indicators {
  display: flex;
  justify-content: center;
  gap: 15px;
  margin-top: 20px;
}

.waste {
  background: #dc3545;
  color: white;
  padding: 8px 15px;
  border-radius: 20px;
  font-size: 0.9em;
}

@media (max-width: 768px) {
  .dmaic-container {
    grid-template-columns: 1fr;
  }
  
  .kpi-grid {
    grid-template-columns: repeat(2, 1fr);
  }
  
  .flow-steps {
    flex-direction: column;
  }
  
  .arrow {
    transform: rotate(90deg);
  }
}
</style>

<h2>Executive Summary</h2>
<p>This Lean Six Sigma analysis examines partner revenue velocity using synthetic data spanning 100 observations from 2022-2030. The study identifies key process inefficiencies and proposes targeted improvements.</p>

<h2>Problem Statement</h2>
<p>Partner revenue velocity shows significant variation (0.12-0.44) with extended cycle times averaging 15.16 days, indicating process waste and inefficiency in the partner revenue generation system.</p>

<h2>Data Analysis Results</h2>
<ul>
  <li><strong>Revenue Range:</strong> $687K - $1.9M (Mean: $1.3M)</li>
  <li><strong>Velocity Variation:</strong> 0.12 - 0.44 (σ = 0.08)</li>
  <li><strong>Cycle Time:</strong> 1-26 days (Mean: 15.16, σ = 6.2)</li>
  <li><strong>Opportunity Count:</strong> 8-51 (Mean: 25)</li>
</ul>

<h2>Lean Six Sigma Recommendations</h2>
<ol>
  <li><strong>Standardize Work:</strong> Implement standard operating procedures for work order processing</li>
  <li><strong>Reduce Variation:</strong> Apply statistical process control to minimize cycle time variation</li>
  <li><strong>Eliminate Waste:</strong> Remove non-value-added activities in approval processes</li>
  <li><strong>Continuous Monitoring:</strong> Establish control charts for ongoing performance tracking</li>
</ol>

<h2>Expected Benefits</h2>
<ul>
  <li>25% improvement in pipeline velocity</li>
  <li>30% reduction in cycle time variation</li>
  <li>15% increase in partner satisfaction</li>
  <li>$200K annual cost savings</li>
</ul>

<h2>R Code Implementation</h2>
<pre><code># ========================================================
# ML Model to Predict Partner Delivered Revenue (Synthetic Data)
# ========================================================

# Install missing packages
install.packages(c("corrplot", "caret", "gridExtra", "scales", "randomForest"))

# Load necessary libraries
library(tidyverse)
library(corrplot)
library(caret)
library(gridExtra)
library(scales)
library(randomForest)

# ========================================================
# 1. Generate Synthetic Data
# ========================================================

set.seed(42)
n_samples <- 100

# Generate synthetic data with realistic relationships
data <- tibble(
  Month = seq(as.Date("2022-01-01"), by = "month", length.out = n_samples),
  woCreate2CompleteDays = round(rnorm(n_samples, mean = 15, sd = 5)),
  woaCreate2CompleteDays = round(rnorm(n_samples, mean = 12, sd = 4)),
  PartnerBillableBooking = round(rnorm(n_samples, mean = 500000, sd = 150000)),
  PartnerPipelineVelocity = round(rnorm(n_samples, mean = 0.25, sd = 0.08), 2),
  POapprovalCycleTime = round(rnorm(n_samples, mean = 8, sd = 3)),
  PartnerOppCount = round(rnorm(n_samples, mean = 25, sd = 8))
) %>%
  # Generate revenue with realistic relationships to predictors
  mutate(
    PartnerDeliveredRevenue = round(
      300000 + 
      PartnerBillableBooking * 0.8 +
      PartnerPipelineVelocity * 2000000 +
      PartnerOppCount * 15000 -
      woCreate2CompleteDays * 8000 -
      woaCreate2CompleteDays * 5000 -
      POapprovalCycleTime * 12000 +
      rnorm(n_samples, 0, 100000)
    )
  ) %>%
  # Ensure positive values
  mutate(
    woCreate2CompleteDays = pmax(woCreate2CompleteDays, 1),
    woaCreate2CompleteDays = pmax(woaCreate2CompleteDays, 1),
    PartnerBillableBooking = pmax(PartnerBillableBooking, 50000),
    PartnerPipelineVelocity = pmax(PartnerPipelineVelocity, 0.05),
    POapprovalCycleTime = pmax(POapprovalCycleTime, 1),
    PartnerOppCount = pmax(PartnerOppCount, 5),
    PartnerDeliveredRevenue = pmax(PartnerDeliveredRevenue, 100000)
  )

# Display structure and summary
str(data)
summary(data)

# ========================================================
# 2. Exploratory Data Analysis
# ========================================================

my_colors <- c("#2C3E50", "#E74C3C", "#3498DB", "#2ECC71", "#F1C40F", "#9B59B6")

# Time series plot
p1 <- ggplot(data, aes(x = Month, y = PartnerDeliveredRevenue)) +
  geom_line(color = "#2C3E50", size = 1) +
  geom_point(color = "#E74C3C", size = 2) +
  theme_minimal() +
  labs(title = "Partner Delivered Revenue Over Time (Synthetic Data)",
       x = "Month", y = "Revenue") +
  scale_y_continuous(labels = function(x) paste0("$", format(x/1000000, digits = 1), "M")) +
  theme(plot.title = element_text(hjust = 0.5, face = "bold"),
        axis.text.x = element_text(angle = 45, hjust = 1))

print(p1)

# Variable distributions
p2 <- data %>%
  select(-Month) %>%
  gather(key = "variable", value = "value") %>%
  ggplot(aes(x = value)) +
  geom_histogram(fill = "#3498DB", color = "#2C3E50", bins = 15) +
  facet_wrap(~ variable, scales = "free") +
  theme_minimal() +
  labs(title = "Distribution of Variables", x = "", y = "Frequency") +
  theme(plot.title = element_text(hjust = 0.5, face = "bold"))

print(p2)

# Correlation matrix
correlation_matrix <- cor(data %>% select(-Month))
corrplot(correlation_matrix, 
         method = "color", 
         type = "upper", 
         tl.col = "black",
         tl.cex = 0.8,
         col = colorRampPalette(c("#E74C3C", "#FFFFFF", "#2ECC71"))(100),
         title = "Correlation Matrix")

# ========================================================
# 3. Multiple Linear Regression Model
# ========================================================

set.seed(123)
trainIndex <- createDataPartition(data$PartnerDeliveredRevenue, p = .8, list = FALSE)
train_data <- data[trainIndex, ]
test_data <- data[-trainIndex, ]

# Build model
lm_model <- lm(PartnerDeliveredRevenue ~ woCreate2CompleteDays + woaCreate2CompleteDays + 
               PartnerBillableBooking + PartnerPipelineVelocity + POapprovalCycleTime + 
               PartnerOppCount, data = train_data)

summary(lm_model)

# Test predictions
predictions <- predict(lm_model, test_data)
test_rmse <- sqrt(mean((test_data$PartnerDeliveredRevenue - predictions)^2))
test_r2 <- cor(test_data$PartnerDeliveredRevenue, predictions)^2

cat("Test RMSE:", test_rmse, "\n")
cat("Test R-squared:", test_r2, "\n")

# ========================================================
# 4. Random Forest Model
# ========================================================

rf_model <- randomForest(
  PartnerDeliveredRevenue ~ woCreate2CompleteDays + woaCreate2CompleteDays + 
                         PartnerBillableBooking + PartnerPipelineVelocity + 
                         POapprovalCycleTime + PartnerOppCount,
  data = train_data,
  ntree = 500,
  importance = TRUE
)

print(rf_model)

# Variable importance
importance(rf_model)
varImpPlot(rf_model)

# Random Forest predictions
rf_predictions <- predict(rf_model, test_data)
rf_rmse <- sqrt(mean((test_data$PartnerDeliveredRevenue - rf_predictions)^2))
rf_r2 <- cor(test_data$PartnerDeliveredRevenue, rf_predictions)^2

cat("Random Forest Test RMSE:", rf_rmse, "\n")
cat("Random Forest Test R-squared:", rf_r2, "\n")

# ========================================================
# 5. Model Comparison
# ========================================================

# Compare predictions
comparison_df <- data.frame(
  Actual = test_data$PartnerDeliveredRevenue,
  Linear_Model = predictions,
  Random_Forest = rf_predictions
)

# Prediction vs Actual plots
p_lm <- ggplot(comparison_df, aes(x = Actual, y = Linear_Model)) +
  geom_point(color = "#3498DB", size = 2) +
  geom_abline(intercept = 0, slope = 1, color = "#E74C3C", linetype = "dashed") +
  theme_minimal() +
  labs(title = "Linear Model: Predicted vs Actual",
       x = "Actual Revenue", y = "Predicted Revenue") +
  scale_x_continuous(labels = function(x) paste0("$", format(x/1000000, digits = 1), "M")) +
  scale_y_continuous(labels = function(x) paste0("$", format(x/1000000, digits = 1), "M"))

p_rf <- ggplot(comparison_df, aes(x = Actual, y = Random_Forest)) +
  geom_point(color = "#2ECC71", size = 2) +
  geom_abline(intercept = 0, slope = 1, color = "#E74C3C", linetype = "dashed") +
  theme_minimal() +
  labs(title = "Random Forest: Predicted vs Actual",
       x = "Actual Revenue", y = "Predicted Revenue") +
  scale_x_continuous(labels = function(x) paste0("$", format(x/1000000, digits = 1), "M")) +
  scale_y_continuous(labels = function(x) paste0("$", format(x/1000000, digits = 1), "M"))

grid.arrange(p_lm, p_rf, ncol = 2)
</code></pre>
